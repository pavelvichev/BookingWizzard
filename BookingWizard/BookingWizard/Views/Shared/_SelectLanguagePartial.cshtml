@using Microsoft.AspNetCore.Builder
@using Microsoft.AspNetCore.Localization
@using Microsoft.AspNetCore.Mvc.Localization
@using Microsoft.Extensions.Options

@inject IViewLocalizer Localizer
@inject IOptions<RequestLocalizationOptions> LocOptions

@{
    // получаем сервис IRequestCultureFeature
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    // получаем список поддерживаемых культур
    var cultureItems = LocOptions.Value.SupportedUICultures
        .Select(c => new SelectListItem { Value = c.Name, Text = c.NativeName })
        .ToList();
}
<style>
    .country-flag {
        width: 20px;
        height: 20px;
        margin-right: 5px;
    }
</style>

<form asp-controller="SetLanguage" asp-action="SetLanguage" style="margin-top: 20px;" asp-route-returnUrl="@($"{Context.Request.Path}{Context.Request.QueryString}")"
 method="post" class="form-horizontal">
    <div class="form-group">
        @foreach (var culture in cultureItems)
        {
            <label>
                <input type="radio" name="culture" value="@culture.Value" onchange="this.form.submit();" @(culture.Selected ? "checked" : "")>
                <img src="~/flags/@culture.Value.ToLower()_flag.png" alt="@culture.Value" class="country-flag">
            </label>
        }
    </div>
</form>