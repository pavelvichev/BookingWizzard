@model BookingWizard.ModelsVM.HotelVM;
<style>
#map {
			height: 200px;
			width: 200px;
		}

		.controls {
			background-color: #fff;
			border-radius: 2px;
			border: 1px solid transparent;
			box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
			box-sizing: border-box;
			font-family: Roboto;
			font-size: 15px;
			font-weight: 300;
			height: 29px;
			margin-left: 17px;
			margin-top: 10px;
			outline: none;
			padding: 0 11px 0 13px;
			text-overflow: ellipsis;
			width: 400px;
		}

		.controls:focus {
			border-color: #4d90fe;
		}
</style>
<div class="container">
	<form method="post" asp-action="Hotel" asp-controller="Hotels">
		<div class="input-group mb-3"> <input type="text" class="form-control" name="searchString" placeholder="@Localizer["WhereWay"]" aria-describedby="button-addon2"> <button class="btn btn-outline-secondary" type="submit" id="button-addon2">@Localizer["Search"]</button> </div>
	</form>
	<div class="container">
		<div class="row">
			<div class="col-md-6 mb-3">
				<div id="photoContainer"> <img src="/PhotoHotels/GetPhoto/@Model.Image.Id" class="img-fluid" style="height: 300px;" /> </div>
				<div style="text-align: center;"> <button type="button" id="prevButton" class="btn btn-primary"><i></i></button> <button type="button" id="nextButton" class="btn btn-primary"><i></i></button> 
					@if (User.IsInRole("Admin"))
					{
						<button type="button" id="deletePhotoButton" class="btn btn-danger"><i class="fas fa-chevron-right"></i></button> <button type="button" id="addButton" class="btn btn-success"><i class="fas fa-chevron-right"></i></button> <input type="file" id="photoInput" style="display: none;" accept="image/*" multiple>
					} </div>
			</div>
			<div class="col-md-6">
				<div class="text-center">
					<h1 class="display-4">@Model.HotelName</h1>
					<div class="lead">@Model.HotelLongDescription</div>
					<p class="lead">@Model.Address.AddressName</p>
				</div>
			</div>
		</div>
	</div>
	<div id="map" data-map="@Model.Address.AddressName" style="height: 400px; width: 100%;"></div>
	<div class="row m-4">
		@if (Model.roomList != null)
		{ @foreach (var room in Model.roomList)
			{
				<div class="col-md-4 mb-4">
					<div class="card" style="max-height: 700px;">
						<a href="@Url.Action("Room","Rooms", new { id = room.Id })">
							<img src="/PhotoRooms/GetPhoto/@room.Image.Id" class="img-fluid" style="height: 300px;" />
						</a>
						<h4 class="text-center m-3">@room.Name</h4>
						<hr>
						<p class="text-center">Price: @room.roomPricePerNight.ToString("c")</p> @if (User.IsInRole("Admin"))
						{
							<a href="@Url.Action("Edit","Rooms", new { id = room.Id })" class="btn btn-primary m-3">@Localizer["EditHotel"]</a>
						}
					</div>
				</div>
			} }
	</div> 
	@if (User.IsInRole("Admin"))
	{
		<div class="mb-3 mt-3"> <button class="btn btn-primary" type="button" id="toggleButton">@Localizer["AddRoom"]</button> </div>
		<div id="myContent" style="display: none;">
			<form method="post" action="/Hotels/AddRoom" enctype="multipart/form-data">
				<input type="hidden" asp-for="HotelName" /> <input type="hidden" asp-for="Id" />
				<div class="mb-3">
					<label for="roomNumber" class="form-label">@Localizer["RoomName"]</label>
					<input type="text" class="form-control" asp-for="@Model.Room.Name">
				</div>
				<div class="mb-3"> 
					<label for="shortDescription" class="form-label">@Localizer["Desc"]</label> 
					<input type="text" class="form-control" id="shortDescription" asp-for="@Model.Room.Description"> 
				</div>
				<div class="mb-3">
					<label for="roomPrice" class="form-label">@Localizer["Price"]</label>
					<input type="text" class="form-control" id="roomPrice" asp-for="@Model.Room.roomPricePerNight"> 
				</div>
				<div class="mb-3">
					<label for="roomNumber" class="form-label">@Localizer["NumberOfPeople"]</label>
					@Html.DropDownListFor(x => x.Room.NumberOfPeople, ViewBag.NumberList as SelectList, new { @class = "form-control" }) 
				</div>
				<div class="custom-file"> 
					<input asp-for="@Model.Room.ImageModelList" class="custom-file-input form-control" multiple /> 
					<label class="custom-file-label text-left"></label> 
				</div> 
				<button type="submit" class="btn btn-primary">@Localizer["AddRoom"]</button>
			</form>
		</div>
		<form method="post" action="/Hotels/Delete">
			<input type="hidden" asp-for="Id" />
			<div class="mb-3"> <button class="btn btn-danger" type="submit" id="deleteButton">@Localizer["DeleteHotel"]</button> </div>
		</form>
	}
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
@{
	var greetingLocalize = Localizer["SureDelete"];
}
<script>
	var photos = @Html.Raw(Json.Serialize(Model.Images));
	var model = @Html.Raw(Json.Serialize(Model));	
	var greeting = @greetingLocalize.Value.ToString();

</script>

<script src="~/Scripts/PhotoHotels.js"></script>
<script src="~/Scripts/Delete.js"></script>